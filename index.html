<!DOCTYPE html>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="utf-8" />
        <title>Linked Data Notifications</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<style>
.hljs-request,
.hljs-status {
  color: #333;
  font-weight: bold;
}
.hljs-string {
  color: #d14;
}
.hljs-attribute,
.hljs-variable,
.hljs-name,
.hljs-number {
  color: #008080;
}

body {
counter-reset:section;
counter-reset:sub-section;
}
.rfc2119 {
font-style: normal;
font-variant: small-caps;
text-transform: lowercase;
}
em.rfc2119 { color: #900; }
code { color: #c83500; }
pre code { color: #333; }
dfn { font-style:inherit; }
.do.fragment a { border-bottom:0; }
.do.fragment a:hover { background:none; border-bottom:0; }
section figure pre { margin:1em 0; display:block; }
cite .bibref { font-style: normal; }
.tabs nav ul li { margin:0; }
div.issue, div.note, div.warning {
clear: both;
margin: 1em 0;
padding: 1em 1.2em 0.5em;
position: relative;
}
div.issue h4, div.note h4 {
margin:0;
text-transform: uppercase;
font-weight:normal;
}
div.issue h4 {
color:#ae1e1e;
}
div.note h4 {
color:#22bb22;
}
.head .logo a[href] {
float: right;
margin: 1rem 0 0.2rem 0.4rem;
background: transparent none repeat scroll 0 0;
border: medium none;
text-decoration: none;
}
.head .logo img[src*="logos/W3C"] {
background: #1a5e9a none repeat scroll 0 0;
border-color: #1a5e9a;
border-image: none;
border-radius: 0.4rem;
border-style: solid;
border-width: 0.65rem 0.7rem 0.6rem;
color: white;
display: block;
font-weight: bold;
}
h1 {
font-size: 220%;
font-weight:bold;
}
</style>
        <link href="https://www.w3.org/StyleSheets/TR/2016/W3C-WD" media="all" rel="stylesheet" title="W3C-WD" />
    </head>

    <body about="" prefix="rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns# rdfs: http://www.w3.org/2000/01/rdf-schema# owl: http://www.w3.org/2002/07/owl# xsd: http://www.w3.org/2001/XMLSchema# dcterms: http://purl.org/dc/terms/ dctypes: http://purl.org/dc/dcmitype/ foaf: http://xmlns.com/foaf/0.1/ v: http://www.w3.org/2006/vcard/ns# pimspace: http://www.w3.org/ns/pim/space# cc: http://creativecommons.org/ns# skos: http://www.w3.org/2004/02/skos/core# prov: http://www.w3.org/ns/prov# qb: http://purl.org/linked-data/cube# schema: https://schema.org/ rsa: http://www.w3.org/ns/auth/rsa# cert: http://www.w3.org/ns/auth/cert# cal: http://www.w3.org/2002/12/cal/ical# wgs: http://www.w3.org/2003/01/geo/wgs84_pos# org: http://www.w3.org/ns/org# biblio: http://purl.org/net/biblio# bibo: http://purl.org/ontology/bibo/ book: http://purl.org/NET/book/vocab# ov: http://open.vocab.org/terms/ sioc: http://rdfs.org/sioc/ns# doap: http://usefulinc.com/ns/doap# dbr: http://dbpedia.org/resource/ dbp: http://dbpedia.org/property/ sio: http://semanticscience.org/resource/ opmw: http://www.opmw.org/ontology/ deo: http://purl.org/spar/deo/ doco: http://purl.org/spar/doco/ cito: http://purl.org/spar/cito/ fabio: http://purl.org/spar/fabio/ oa: http://www.w3.org/ns/oa# as: http://www.w3.org/ns/activitystreams# ldp: http://www.w3.org/ns/ldp# solid: http://www.w3.org/ns/solid/terms#" typeof="schema:CreativeWork sioc:Post prov:Entity schema:Article doap:Specification">
        <div class="head">
            <p><a class="logo" href="https://www.w3.org/"><img src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" alt="W3C" height="48" width="72" /></a></p>
            <h1 property="schema:name">Linked Data Notifications</h1>
            <h2><abbr title="World Wide Web Consortium">W3C</abbr> Working Draft <time datatype="xsd:dateTime" datetime="2016-09-26" property="schema:datePublished dcterms:issued">26 September 2016</time></h2>

            <dl>
                <dt>This version:</dt>
                <dd><a href="https://www.w3.org/TR/2016/WD-ldn-20160926/" rel="owl:sameAs doap:homepage">https://www.w3.org/TR/2016/WD-ldn-20160926/</a></dd>
                <dt>Latest published version:</dt>
                <dd><a href="https://www.w3.org/TR/ldn/" rel="rdfs:seeAlso">https://www.w3.org/TR/ldn/</a></dd>
                <dt>Previous version:</dt>
                <dd><a href="https://www.w3.org/TR/2016/WD-ldn-20160913/" rel="rdfs:seeAlso">https://www.w3.org/TR/2016/WD-ldn-20160913/</a></dd>
                <dt>Latest editor's draft:</dt>
                <dd><a href="https://linkedresearch.org/ldn/" rel="rdfs:seeAlso">https://linkedresearch.org/ldn/</a></dd>
                <dt>Editors</dt>
                <dd id="Sarven-Capadisli" data-editor-id="46140" inlist="" rel="bibo:authorList" resource="http://csarven.ca/#i"><span about="" rel="schema:creator schema:author"><span about="http://csarven.ca/#i" typeof="schema:Person"><a rel="schema:url" href="http://csarven.ca/"><span about="http://csarven.ca/#i" property="schema:name"><span property="schema:givenName">Sarven</span> <span property="schema:familyName">Capadisli</span></span></a></span></span>, <a about="http://csarven.ca/#i" href="http://uni-bonn.de/" rel="schema:memberOf" resource="http://dbpedia.org/resource/University_of_Bonn">University of Bonn</a>, <a about="http://csarven.ca/#i" href="mailto:info@csarven.ca" rel="schema:email">info@csarven.ca</a></dd>
                <dd id="Amy-Guy" data-editor-id="69000" inlist="" rel="bibo:authorList" resource="http://rhiaro.co.uk/#me"><span about="" rel="schema:creator schema:author"><span about="http://rhiaro.co.uk/#me" typeof="schema:Person"><a rel="schema:url" href="http://rhiaro.co.uk/"><span about="http://rhiaro.co.uk/#me" property="schema:name"><span property="schema:givenName">Amy</span> <span property="schema:familyName">Guy</span></span></a></span></span>, <a about="http://rhiaro.co.uk/#me" href="http://inf.ed.ac.uk/" rel="schema:memberOf" resource="http://dbpedia.org/resource/University_of_Edinburgh">University of Edinburgh</a>, <a about="http://rhiaro.co.uk/#me" href="mailto:amy@rhiaro.co.uk" rel="schema:email">amy@rhiaro.co.uk</a></dd>
                <dt>Repository</dt>
                <dd><a href="https://github.com/csarven/ldn" rel="doap:repository">Github</a></dd>
                <dd><a href="https://github.com/csarven/ldn/issues" rel="doap:bug-database">Issues</a></dd>
            </dl>

            <p class="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2016 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). <abbr title="World Wide Web Consortium">W3C</abbr> <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a rel="license" href="http://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a> rules apply.</p>

            <hr title="Separator for header" />
        </div>

        <section id="abstract">
            <h2>Abstract</h2>
            <div datatype="rdf:HTML" property="schema:abstract">
              <p>Linked Data Notifications is a protocol that describes how servers (receivers) can have messages pushed to them by applications (senders), as well as how other applications (consumers) may retrieve those messages. Any resource can advertise a receiving endpoint (Inbox) for the messages. Messages are expressed in RDF, and can contain any data.</p>
            </div>
        </section>

        <section class="introductory" id="sotd" inlist="" rel="schema:hasPart" resource="#sotd">
            <h2 property="schema:name">Status of This Document</h2>
            <div property="schema:description" datatype="rdf:HTML">
                <p><em>This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this technical report can be found in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at https://www.w3.org/TR/.</em></p>

                <p>This document was published by the <a href="https://www.w3.org/Social/WG">Social Web Working Group</a> as a Working Draft. This document is intended to become a <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation. If you wish to make comments regarding this document, please send them to <a href="mailto:public-socialweb@w3.org">public-socialweb@w3.org</a> (<a href="mailto:public-socialweb-request@w3.org?subject=subscribe">subscribe</a>, <a href="https://lists.w3.org/Archives/Public/public-socialweb/">archives</a>). All comments are welcome.</p>

                <p>Publication as a Working Draft does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr> Membership. This is a draft document and may be updated, replaced or obsoleted by other documents at any time. It is inappropriate to cite this document as other than work in progress.</p>

                <p>This document was produced by a group operating under the <a id="sotd_patent" property="w3p:patentRules" href="https://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>. <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="https://www.w3.org/2004/01/pp-impl/72531/status" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.</p>

                <p>This document is governed by the <a id="w3c_process_revision" href="https://www.w3.org/2015/Process-20150901/">1 September 2015 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.</p>
            </div>
        </section>

        <nav id="toc">
            <h2 id="table-of-contents">Table of Contents</h2>
            <div>
                <ol class="toc">
                    <li class="tocline">
                        <a class="tocxref" href="#abstract">Abstract</a>
                    </li>
                    <li class="tocline">
                        <a class="tocxref" href="#sotd">Status of This Document</a>
                    </li>
                    <li class="tocline">
                        <a class="tocxref" href="#introduction"><span class="secno">1. </span>Introduction</a>
                        <ol>
                            <li class="tocline">
                                <a class="tocxref" href="#social-web-working-group"><span class="secno">1.1 </span>Social Web Working Group</a>
                            </li>
                            <li class="tocline">
                                <a class="tocxref" href="#overview"><span class="secno">1.2 </span>Overview</a>
                            </li>
                            <li class="tocline">
                                <a class="tocxref" href="#summary"><span class="secno">1.3 </span>Summary</a>
                            </li>
                            <li class="tocline">
                                <a class="tocxref" href="#relation-to-ldp"><span class="secno">1.4 </span>Relation to Linked Data Platform</a>
                            </li>
                        </ol>
                    </li>
                    <li class="tocline">
                        <a class="tocxref" href="#conformance"><span class="secno">2. </span>Conformance</a>
                        <ol>
                            <li class="tocline">
                                <a class="tocxref" href="#conformance-classes"><span class="secno">2.1 </span>Conformance Classes</a>
                            </li>
                            <li class="tocline">
                                <a class="tocxref" href="#exit-criteria"><span class="secno">2.2 </span>Exit Criteria</a>
                            </li>
                        </ol>
                    </li>
                    <li class="tocline">
                        <a class="tocxref" href="#protocol"><span class="secno">3. </span>Protocol</a>
                        <ol>
                            <li class="tocline">
                                <a class="tocxref" href="#discovery"><span class="secno">3.1 </span>Discovery</a>
                            </li>
                            <li class="tocline">
                                <a class="tocxref" href="#sending"><span class="secno">3.2 </span>Sending</a>
                            </li>
                            <li class="tocline">
                                <a class="tocxref" href="#receiving"><span class="secno">3.3 </span>Receiving</a>
                                <ol>
                                    <li class="tocline">
                                        <a class="tocxref" href="#receiving-notifications"><span class="secno">3.3.1 </span>Receiving notifications</a>
                                    </li>
                                    <li class="tocline">
                                        <a class="tocxref" href="#receiving-inbox-contents"><span class="secno">3.3.2 </span>Making Inbox contents available to consumers</a>
                                    </li>
                                    <li class="tocline">
                                        <a class="tocxref" href="#sender-verification"><span class="secno">3.3.3 </span>Sender Verification</a>
                                    </li>
                                    <li class="tocline">
                                        <a class="tocxref" href="#preventing-abuse"><span class="secno">3.3.4 </span>Preventing Abuse</a>
                                    </li>
                                </ol>
                            </li>
                            <li class="tocline">
                                <a class="tocxref" href="#consuming"><span class="secno">3.4 </span>Consuming</a>
                            </li>
                        </ol>
                    </li>
                    <li class="tocline">
                        <a class="tocxref" href="#payload"><span class="secno">4. </span>Payload</a>
                        <ol>
                            <li class="tocline">
                                <a class="tocxref" href="#payload-examples"><span class="secno">4.1 </span>Payload Examples</a>
                            </li>
                        </ol>
                    </li>
                    <li class="tocline">
                        <a class="tocxref" href="#security-privacy-and-content-considerations"><span class="secno">5. </span>Security, Privacy and Content Considerations</a>
                        <ol>
                            <li class="tocline">
                                <a class="tocxref" href="#constraints"><span class="secno">5.1 </span>Constraints</a>
                            </li>
                            <li class="tocline">
                                <a class="tocxref" href="#target-ownership"><span class="secno">5.2 </span>Target Ownership</a>
                            </li>
                            <li class="tocline">
                                <a class="tocxref" href="#subscribing-to-notifications"><span class="secno">5.3 </span>Subscribing to Notifications</a>
                            </li>
                            <li class="tocline">
                                <a class="tocxref" href="#activity-streams-2-0-support"><span class="secno">5.4 </span>Activity Streams 2.0 Support</a>
                            </li>
                            <li class="tocline">
                                <a class="tocxref" href="#security-and-privacy-review"><span class="secno">5.5 </span>Security and Privacy Review</a>
                            </li>
                        </ol>
                    </li>
                    <li class="tocline">
                        <a class="tocxref" href="#acknowledgements"><span class="secno">A. </span>Acknowledgements</a>
                    </li>
                    <li class="tocline">
                        <a class="tocxref" href="#change-log"><span class="secno">B. </span>Change Log</a>
                    </li>
                    <li class="tocline">
                        <a class="tocxref" href="#references"><span class="secno">C. </span>References</a>
                    </li>
                </ol>
            </div>
        </nav>

        <section id="introduction" inlist="" rel="schema:hasPart" resource="#introduction">
            <h2 about="#introduction" property="schema:name" typeof="deo:Introduction"><span class="secno">1. </span>Introduction</h2>
            <div datatype="rdf:HTML" property="schema:description">
                <p>Data on the Web should not be locked in to particular systems or only readable by the applications which created it. Users should be free to switch between applications and share data between them. Applications generate notifications about activities, interactions, and new information, which may be presented to the user or processed further.</p>

                <p><dfn id="ldn">Linked Data Notifications (<abbr title="Linked Data Notifications">LDN</abbr>)</dfn> supports sharing and reuse of notifications <em>across</em> applications, regardless of how they were generated. This allows for more modular systems, which decouple data storage from the applications which display or otherwise make use of the data. The protocol is intended to allow senders, receivers and consumers of notifications, which are independently implemented and run on different technology stacks, to seamlessly work together, contributing to decentralisation of our interactions on the Web.</p>

                <p>Instead of treating notifications as ephemeral or non-persistent entities, this specification enables the notion of a notification as an individual entity with its own URI. As such, notifications can be retrieved and reused.
                We support a range of different application domains, social and otherwise, thus the contents of notifications are left up to applications to define. Authentication and verification of notifications is encouraged, but the mechanism to do so is at the discretion of receivers and consumers, as needs differ according to types of notification and different application domains.</p>

                <section id="social-web-working-group" inlist="" rel="schema:hasPart" resource="#social-web-working-group">
                    <h3 property="schema:name"><span class="secno">1.1 </span>Social Web Working Group</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <p><a href="#ldn"><abbr title="Linked Data Notifications">LDN</abbr></a> is one of several related specifications being produced by the Social Web Working Group. Implementers interested in alternative approaches and complimentary protocols should start by reading the overview document <a class="bibref" href="#bib-social-web-protocols">Social Web Protocols</a>.</p>
                    </div>
                </section>

                <section id="overview" inlist="" rel="schema:hasPart" resource="#overview">
                    <h3 property="schema:name"><span class="secno">1.2 </span>Overview</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <figure id="figure-linked-data-notifications-overview" rel="schema:hasPart" resource="#figure-linked-data-notifications-overview">
                            <object data="linked-data-notifications-overview.svg" height="200" rel="schema:image" type="image/svg+xml" width="420"></object>

                            <figcaption property="schema:name">Overview of Linked Data Notifications</figcaption>
                        </figure>
                        <p>A sender is triggered, either by a human or an automatic process, to deliver a notification to a server. The notification is data intended for the attention of the receiver, for example: a personal message from a friend; a pingback link; a comment on a blog post; an invitation to collaborate; a calendar reminder.</p>

                        <p>The sender discovers where to deliver the notification based on the addressee or subject of the notification (the receiver) who advertises the appropriate location to send it to (the Inbox). Any resource can have its own Inbox. The receiver also exposes the notification data (according to appropriate access control) for use by consumers.</p>

                        <p>Consumers discover the location of the Inbox in the same way as the sender, and may perform further processing on the notifications, combine it with some other data, or simply present it in a suitable human-readable way.</p>
                    </div>
                </section>

                <section id="summary" inlist="" rel="schema:hasPart" resource="#summary">
                    <h3 property="schema:name"><span class="secno">1.3 </span>Summary</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <p id="summary-discovery">Senders and consumers <strong><a href="#discovery">discover</a></strong> a resource's <em>Inbox</em> URL through a relation in the HTTP <code>Link</code> header or body of the resource.</p>

                        <p id="summary-sender">The <strong><a href="#sending">Sender</a></strong>:</p>
                        <ul>
                            <li>Creates the body of the notification according to the needs of application.</li>
                            <li>Sends the notification to the Inbox URL by making a <code>POST</code> request, containing the body in JSON-LD or in another serialization acceptable by the server.</li>
                        </ul>

                        <p id="summary-receiver">The <strong><a href="#receiving">Receiver</a></strong>:</p>
                        <ul>
                            <li>Responds to <code>GET</code> requests made to the Inbox URL with a JSON-LD representation (or if possible, requested serialization) of the URLs of the notifications that have previously been sent to the Inbox.</li>
                            <li>Accepts <code>POST</code> requests at the Inbox URL to create notifications.</li>
                            <li>Optionally enforces constraints on notifications sent to the Inbox.</li>
                        </ul>

                        <p id="summary-consumer">The <strong><a href="#consuming">Consumer</a></strong>:</p>
                        <ul>
                            <li>Retrieves the contents of the Inbox URL with a <code>GET</code> request, and uses according to the needs of application.</li>
                        </ul>
                    </div>
                </section>

                <section id="relation-to-ldp" inlist="" rel="schema:hasPart" resource="#relation-to-ldp">
                    <h3 property="schema:name"><span class="secno">1.4 </span>Relation to Linked Data Platform</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <p><abbr title="Linked Data Notifications">LDN</abbr> is a specialized use of Linked Data Platform [<cite><a class="bibref" href="#bib-ldp">LDP</a></cite>] for sending and consuming notifications. It is not dependent on a complete implementation of LDP, but an easy-to-implement subset. Having knowledge of LDP is not required to understand this specification, but those who do will find some concepts familiar. We describe the particular features necessary to make it easy to exchange notifications in a decentralised, interoperable way.</p>
                    </div>
                </section>
            </div>
        </section>

        <section id="conformance" inlist="" rel="schema:hasPart" resource="#conformance">
            <h2 property="schema:name"><span class="secno">2. </span>Conformance</h2>
            <div datatype="rdf:HTML" property="schema:description">
                <p>The key words "<em class="rfc2119">MUST</em>", "<em class="rfc2119">MUST NOT</em>", "<em class="rfc2119">REQUIRED</em>", "<em class="rfc2119">SHALL</em>", "<em class="rfc2119">SHALL NOT</em>", "<em class="rfc2119">SHOULD</em>", "<em class="rfc2119">SHOULD NOT</em>", "<em class="rfc2119">RECOMMENDED</em>", "<em class="rfc2119">MAY</em>", and "<em class="rfc2119">OPTIONAL</em>" in this document are to be interpreted as described in [<cite><a class="bibref" href="#bib-rfc2119">RFC2119</a></cite>]. As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative.</p>

                <section id="conformance-classes" inlist="" rel="schema:hasPart" resource="#conformance-classes">
                    <h3 property="schema:name"><span class="secno">2.1 </span>Conformance Classes</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <p>LDN implementations may be <em>senders</em>, <em>receivers</em> or <em>consumers</em>. The conformance criteria for each of these roles are described in their respective sections of this specification.</p>
                    </div>
                </section>

                <section id="exit-criteria" inlist="" rel="schema:hasPart" resource="#exit-criteria">
                    <h3 property="schema:name"><span class="secno">2.2 </span>Exit Criteria</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <p>For this specification to advance to Proposed Recommendation, there must be at least two independent, interoperable implementations of each feature. Each feature may be implemented by a different set of products. There is no requirement that all features be implemented by a single product.</p>
                        <ul>
                            <li><strong>Independent</strong> implementations are developed by different parties and cannot share, reuse or derive form another qualifying implementation code which is directly pertinent to the implementation of this specification.</li>
                            <li><strong>Interoperability</strong> occurs between senders and receivers, or between consumers and receivers, when the sender/consumer makes a request to the receiver, and the receiver sends the expected response, as defined by this specification.</li>
                            <li>An <strong>implementation</strong> is an LDN sender, receiver or consumer which implements the corresponding conformance class of the specification.</li>
                        </ul>

                        <p id="features">For the purposes of evaluating exit criteria, each of the following is considered a feature:</p>
                        <ul>
                            <li>Advertising the Inbox of a given resource through the <code>Link</code> header.</li>
                            <li>Advertising the Inbox of a given resource through the body of the resource.</li>
                            <li>Sending a notification to the Inbox of a given target.</li>
                            <li>Receiving a notification and responding with the appropriate status code according to how it was processed and if it was accepted. Responding to <code>GET</code> requests on the Inbox with the Inbox listing, and responding to <code>GET</code> requests on the individual notifications with their representations.</li>
                            <li>Reading the Inbox listing of a given target.</li>
                            <li>Reading the individual notifications in the Inbox of a given target.</li>
                        </ul>
                    </div>
                </section>
            </div>
        </section>

        <section id="protocol" inlist="" rel="schema:hasPart" resource="#protocol">
            <h2 property="schema:name"><span class="secno">3. </span>Protocol</h2>
            <div datatype="rdf:HTML" property="schema:description">
                <p>This section describes the discovery of the URL to which notifications are delivered or read from (the <em>Inbox</em>) and the delivery mechanism. Notification contents are described in <a href="#payload">Payload</a>.</p>

                <section id="discovery" inlist="" rel="schema:hasPart" resource="#discovery">
                    <h3 property="schema:name"><span class="secno">3.1 </span>Discovery</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <p>An <em>Inbox</em>, the endpoint to which notifications are sent or from which they are consumed, can be discovered from any resource, for example a blog post, a user profile, a dataset, a video. The starting point for discovery is the resource which the notification is to or about: the <em>target</em>. Choosing the most appropriate target resource from which to begin discovery is at the discretion of the sender or consumer, since any resource (RDF or non-RDF) may have its own Inbox.</p>

                        <p>To discover the Inbox URL, senders and consumers:</p>
                        <ul>
                            <li>make a <code>HEAD</code> or <code>GET</code> request on the target URL, to check for an HTTP <code>Link</code> header with a <code>rel</code> value of <code>http://www.w3.org/ns/ldp#inbox</code></li>
                            <li>make a <code>GET</code> request on the target URL and, for RDF sources [<cite><a class="bibref" href="#bib-rdf11-concepts">RDF 1.1</a></cite>], the Inbox is the object of the predicate <code>http://www.w3.org/ns/ldp#inbox</code>.</li>
                        </ul>

                        <p>These may be carried out in either order, but if the first fails to result in an Inbox the second <em class="rfc2119">MUST</em> be tried. However, if the target contains a fragment identifier, the fragment is not part of the request to the server so any Inbox found in the <code>Link</code> headers will be for the resolved URL (without the fragment). Thus, senders and consumers <em class="rfc2119">SHOULD</em> omit the <code>Link</code> header discovery when specifically targeting URIs with fragment identifiers.</p>

                        <p>A resource <em class="rfc2119">MUST</em> advertise only one Inbox. One Inbox <em class="rfc2119">MAY</em> be used by multiple resources, for example using the same Inbox for replies to all of my blog posts and shares of all of my photos.</p>

                        <p>Implementations ought to be courteous when making HTTP requests for discovery, per <a href="https://www.w3.org/TR/social-web-protocols/#targeting-and-discovery">Social Web Protocols</a>.</p>

                        <figure class="listing example" id="discovery-head-example" rel="schema:hasPart" resource="#discovery-head-example">
                            <pre>
<code><span class="hljs-request">HEAD <span class="hljs-string">/profile</span> HTTP/1.1</span></code>
<code><span class="hljs-attribute">Host</span>: <span class="hljs-string">user.example</span></code>
<code></code>
<code><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span></code>
<code><span class="hljs-attribute">Link</span>: <span class="hljs-string">&lt;https://user.example/inbox/&gt;; rel="http://www.w3.org/ns/ldp#inbox"</span></code>
                            </pre>
                            <figcaption>Discovering an Inbox with a HEAD request.</figcaption>
                        </figure>

                        <figure class="listing example" id="discovery-json-example" rel="schema:hasPart" resource="#discovery-json-example">
                            <pre>
<code><span class="hljs-request">GET <span class="hljs-string">/profile</span> HTTP/1.1</span></code>
<code><span class="hljs-attribute">Host</span>: <span class="hljs-string">user.example</span></code>
<code><span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/ld+json</span></code>
<code></code>
<code>// Response in JSON-LD compact form</code>
<code><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span></code>
<code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/ld+json</span></code>
<code></code>
<code>{</code>
<code>  "<span class="hljs-attribute">@context</span>": <span class="hljs-value"><span class="hljs-string">"http://www.w3.org/ns/ldp"</span></span>,</code>
<code>  "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://user.example/profile"</span></span>,</code>
<code>  "<span class="hljs-attribute">inbox</span>": <span class="hljs-value"><span class="hljs-string">"https://user.example/inbox/"</span></span></code>
<code>}</code>
<code></code>
<code>// Response in expanded JSON-LD</code>
<code><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span></code>
<code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/ld+json</span></code>
<code></code>
<code>[</code>
<code>  {</code>
<code>    "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://user.example/profile"</span></span>,</code>
<code>    "<span class="hljs-attribute">http://www.w3.org/ns/ldp#inbox</span>": [</code>
<code>      { "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://user.example/inbox/"</span></span> }</code>
<code>    ]</code>
<code>  }</code>
<code>]</code>
                            </pre>
                            <figcaption>Discovering an Inbox with a GET request to retrieve JSON-LD.</figcaption>
                        </figure>
                        <figure class="listing example" id="discovery-html-example" rel="schema:hasPart" resource="#discovery-html-example">
                            <pre>
<code><span class="hljs-request">GET <span class="hljs-string">/profile</span> HTTP/1.1</span></code>
<code><span class="hljs-attribute">Host</span>: <span class="hljs-string">user.example</span></code>
<code><span class="hljs-attribute">Accept</span>: <span class="hljs-string">text/html</span></code>
<code></code>
<code><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span></code>
<code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">text/html</span></code>
<code></code>
<code>&lt;a href="/inbox/" rel="http://www.w3.org/ns/ldp#inbox"&gt;My inbox&lt;/a&gt;</code>
<code></code>
                            </pre>
                            <figcaption>Discovering an Inbox with a GET request to retrieve HTML.</figcaption>
                        </figure>
                    </div>
                </section>

                <section id="sending" inlist="" rel="schema:hasPart" resource="#sending">
                    <h3 property="schema:name"><span class="secno">3.2 </span>Sending</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <p>Following <a href="#discovery">discovery</a>, senders <em class="rfc2119">MUST</em> deliver notifications through a <code>POST</code> request to the Inbox URL. Senders can expect a <code>201 Created</code> (with a <code>Location</code> Link header) or a <code>202 Accepted</code> in response to a successful request.</p>

                        <p>The sender <em class="rfc2119">MAY</em> use an <code>OPTIONS</code> request to determine the RDF content types accepted by the server, and serialize the notification in the request body according to the value of the <code>Accept-Post</code> header [<cite><a class="bibref" href="http://tools.ietf.org/html/draft-wilde-accept-post">Accept-Post</a></cite>] returned. Otherwise, the body of the <code>POST</code> request <em class="rfc2119">MUST</em> contain the notification <a href="#payload">payload</a> in JSON-LD with header <code>Content-Type: application/ld+json</code>. The <code>Content-Type</code> header <em class="rfc2119">MAY</em> include a <code>profile</code> URI [<cite><a class="bibref" href="#bib-rfc6906">RFC6906</a></cite>].</p>

                        <p>The sender <em class="rfc2119">MAY</em> include additional headers or content for the purposes of authentication or authorization e.g., <code>Authorization: Bearer XXX</code>.</p>

                        <p>If the sender has any services that listen on localhost that don't require authentication, it's possible for a malicious script to run at the Inbox endpoint that could cause the sender to make an arbitrary <code>POST</code> request to itself. Senders <em class="rfc2119">SHOULD NOT</em> make <code>POST</code> requests to the Inbox that are localhost or a loopback IP address.</p>

                        <p>Request:</p>
                        <figure class="listing example" id="sending-notification" rel="schema:hasPart" resource="#sending-notification">
                            <pre about="sending-notification" property="schema:description" typeof="fabio:Script">
<code><span class="hljs-request">POST <span class="hljs-string">/inbox/</span> HTTP/1.1</span></code>
<code><span class="hljs-attribute">Host</span>: <span class="hljs-string">user.example</span></code>
<code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/ld+json</span></code>
<code></code>
<code>{</code>
<code>  "<span class="hljs-attribute">@context</span>": <span class="hljs-value"><span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span></span>,</code>
<code>  "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,</code>
<code>  "<span class="hljs-attribute">@type</span>": <span class="hljs-value"><span class="hljs-string">"Announce"</span></span>,</code>
<code>  "<span class="hljs-attribute">actor</span>": { "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.org/profile#alice"</span></span> },</code>
<code>  "<span class="hljs-attribute">object</span>": { "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.org/annotation-1"</span></span> },</code>
<code>  "<span class="hljs-attribute">target</span>": { "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://user.example/article#introduction"</span></span> },</code>
<code>  "<span class="hljs-attribute">updated</span>": <span class="hljs-value"><span class="hljs-string">"2016-06-23T15:03:01Z"</span></span></code>
<code>}</code>
                            </pre>
                            <figcaption property="schema:name">Example notification send request to an Inbox.</figcaption>
                        </figure>

                        <p>Response:</p>
                        <figure class="listing example" id="sending-notification-response" rel="schema:hasPart" resource="#sending-notification-response">
                            <pre about="sending-notification-response" property="schema:description" typeof="fabio:Script">
<code><span class="hljs-request">HTTP/1.1 <span class="hljs-string">201</span> Created</span></code>
<code><span class="hljs-attribute">Location</span>: <span class="hljs-string">https://user.example/inbox/notification-1</span></code>
                            </pre>
                            <figcaption property="schema:name">Example response to a request</figcaption>
                        </figure>
                    </div>
                </section>

                <section id="receiving" inlist="" rel="schema:hasPart" resource="#receiving">
                    <h3 property="schema:name"><span class="secno">3.3 </span>Receiving</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <p>Receivers <em class="rfc2119">MUST</em> support <code>GET</code> and <code>POST</code> requests on the Inbox URL. In LDP terms, an Inbox is a <em>Container</em>.</p>

                        <section id="receiving-notifications" inlist="" rel="schema:hasPart" resource="#receiving-notifications">
                            <h4 property="schema:name"><span class="secno">3.3.1 </span>Receiving notifications</h4>
                            <div datatype="rdf:HTML" property="schema:description">
                                <p>Upon receipt of a <code>POST</code> request, if the notification resource was processed successfully, receivers <em class="rfc2119">MUST</em> respond with status code <code>201 Created</code> and the <code>Location</code> header set to the URL from which the notification data can be retrieved (see <a href="#consuming">Consuming</a>). If the request was queued to be processed asynchronously, the receiver <em class="rfc2119">MUST</em> respond with a status code of <code>202 Accepted</code> and include information about the status of the request in the body of the response.</p>

                                <p>Receivers which enforce constraints on the notifications (see <a href="#constraints">Constraints</a>) <em class="rfc2119">SHOULD</em> fail to process the notification if the constraints are not met and return the appropriate <code>4xx</code> error code.</p>

                                <p>Receivers <em class="rfc2119">MUST</em> accept notifications where the request body is JSON-LD, with the <code>Content-Type: application/ld+json</code>, which <em class="rfc2119">MAY</em> include a <code>profile</code> URI [<cite><a class="bibref" href="#bib-rfc6906">RFC6906</a></cite>].</p>

                                <p>Receivers <em class="rfc2119">MAY</em> accept other RDF content types (e.g., <code>text/turtle</code>, <code>text/html</code>), and if so, <em class="rfc2119">SHOULD</em> advertise the content types they accept with an <code>Accept-Post</code> header on the Inbox URL.</p>

                                <figure class="listing example" id="request-response-example" rel="schema:hasPart" resource="#request-response-example">
                                    <pre about="#request-example" class="hljs http" property="schema:description" typeof="fabio:Script">
<code><span class="hljs-request">HEAD <span class="hljs-string">/inbox/</span> HTTP/1.1</span></code>
<code><span class="hljs-attribute">Host</span>: <span class="hljs-string">user.example</span></code>
<code></code>
<code><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span></code>
<code><span class="hljs-attribute">Allow</span>: <span class="hljs-string">GET, HEAD, OPTIONS, POST</span></code>
<code><span class="hljs-attribute">Accept-Post</span>: <span class="hljs-string">application/ld+json</span>, <span class="hljs-string">text/turtle</span></code>
<code></code>
<code><span class="hljs-request">POST <span class="hljs-string">/inbox/</span> HTTP/1.1</span></code>
<code><span class="hljs-attribute">Host</span>: <span class="hljs-string">user.example</span></code>
<code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/ld+json</span></code>
<code></code>
<code>{</code>
<code>  "<span class="hljs-attribute">@context</span>": <span class="hljs-value"><span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span></span>,</code>
<code>  "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,</code>
<code>  "<span class="hljs-attribute">@type</span>": <span class="hljs-value"><span class="hljs-string">"Announce"</span></span>,</code>
<code>  "<span class="hljs-attribute">actor</span>": { "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.org/profile#alice"</span></span> },</code>
<code>  "<span class="hljs-attribute">object</span>": { "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.org/annotation-1"</span></span> },</code>
<code>  "<span class="hljs-attribute">target</span>": { "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://user.example/article#introduction"</span></span> },</code>
<code>  "<span class="hljs-attribute">updated</span>": <span class="hljs-value"><span class="hljs-string">"2016-06-23T15:03:01Z"</span></span></code>
<code>}</code>
<code></code>
<code><span class="hljs-request">HTTP/1.1 <span class="hljs-string">201</span> Created</span></code>
<code><span class="hljs-attribute">Location</span>: <span class="hljs-string">https://user.example/inbox/notification-2</span></code>
                                    </pre>
                                    <figcaption property="schema:name">Example request and response</figcaption>
                                </figure>
                            </div>
                        </section>

                        <section id="receiving-inbox-contents" inlist="" rel="schema:hasPart" resource="#receiving-inbox-contents">
                            <h4 property="schema:name"><span class="secno">3.3.2 </span>Making Inbox contents available to consumers</h4>
                            <div datatype="rdf:HTML" property="schema:description">
                                <p>A successful <code>GET</code> request on the Inbox <em class="rfc2119">MUST</em> return a <code>HTTP 200 OK</code> with the URIs of notifications, subject to the requester's access (returning <code>4xx</code> error codes as applicable). Receivers <em class="rfc2119">MAY</em> list only URIs of notifications in the Inbox that the consumer is able to access.</p>

                                <p>Each notification URI <em class="rfc2119">MUST</em> be related to the Inbox URL with the <code>http://www.w3.org/ns/ldp#contains</code> predicate. Each notification <em class="rfc2119">MUST</em> be an <a href="http://www.w3.org/TR/rdf11-concepts/#dfn-rdf-source">RDF source</a>. If non-RDF resources are returned, the consumer <em class="rfc2119">MAY</em> ignore them.</p>

                                <p>The JSON-LD content type <em class="rfc2119">MUST</em> be available for all resources, but clients may send <code>Accept</code> headers preferring other content types (<a href="#bib-rdfc7231">RFC7231</a> Section 3.4 - Content Negotiation). If the client sends no <code>Accept</code> header, the server may send the data in JSON-LD or any format which faithfully conveys the same information (e.g., Turtle).</p>

                                <p>Any additional description about the Inbox itself <em class="rfc2119">MAY</em> also be returned (e.g., <a href="#constraints">Constraints</a>).</p>

                                <div class="note" id="note-paging" rel="schema:hasPart" resource="#note-paging">
                                    <h4 property="schema:name">Note</h4>
                                    <div datatype="rdf:HTML" property="schema:description">
                                        <p>This specification does not define a paging mechanism to serve the list of notifications in an Inbox. Implementations that wish to enable paging may want to use existing mechanisms to allow efficient retrievals e.g., <cite><a class="bibref" href="#bib-ldp-paging">Linked Data Platform Paging 1.0</a></cite>, <cite><a class="bibref" href="#bib-activitystreams">Activity Streams 2.0 Collection</a></cite>.</p>
                                    </div>
                                </div>

                                <figure class="listing example" id="results-example-inbox-contains-ldp" rel="schema:hasPart" resource="#results-example-inbox-contains-ldp">
                                    <pre about="#results-example-inbox-contains-ldp" class="hljs" property="schema:description" typeof="fabio:Script">
<code><span class="hljs-request">GET <span class="hljs-string">/inbox/</span> HTTP/1.1</span></code>
<code><span class="hljs-attribute">Host</span>: <span class="hljs-string">user.example</span></code>
<code><span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/ld+json</span></code>
<code></code>
<code><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span></code>
<code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/ld+json</span></code>
<code></code>
<code>{</code>
<code>  "<span class="hljs-attribute">@context</span>": <span class="hljs-value"><span class="hljs-string">"http://www.w3.org/ns/ldp"</span></span>,</code>
<code>  "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://user.example/inbox/"</span></span>,</code>
<code>  "<span class="hljs-attribute">contains</span>": <span class="hljs-value">[</span></code>
<code>    { "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://user.example/inbox/notification-1"</span></span> },</code>
<code>    { "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://user.example/inbox/notification-2"</span></span> }</code>
<code>  <span class="hljs-value">]</span></code>
<code>}</code>
                                    </pre>
                                    <figcaption>Results of GET request on Inbox.</figcaption>
                                </figure>
                            </div>
                        </section>

                        <section id="sender-verification" inlist="" rel="schema:hasPart" resource="#sender-verification">
                            <h4 property="schema:name"><span class="secno">3.3.3 </span>Sender Verification</h4>
                            <div datatype="rdf:HTML" property="schema:description">
                                <p>Receivers <em class="rfc2119">SHOULD</em> verify the sender of the notification. For example:</p>
                                <ul>
                                    <li>by having a whitelist of senders with write access to the Inbox</li>
                                    <li>requiring authentication to enforce receiver's knowledge of every sender</li>
                                    <li>retrieving a copy of the notification from the sender's domain to verify its origin</li>
                                    <li>checking a digital signature which accompanies the notification</li>
                                </ul>
                            </div>
                        </section>

                        <section id="preventing-abuse" inlist="" rel="schema:hasPart" resource="#preventing-abuse">
                            <h4 property="schema:name"><span class="secno">3.3.4 </span>Preventing Abuse</h4>
                            <div datatype="rdf:HTML" property="schema:description">
                                <p>Receivers <em class="rfc2119">SHOULD</em> use <a href="#constraints">constraints</a> to filter unwarranted notifications from being created on the server and exposed by the Inbox.</p>

                                <p>Receivers could consider implementing access control on the Inbox URL to restrict writing to a whitelist of trusted senders.</p>
                            </div>
                        </section>
                    </div>
                </section>

                <section id="consuming" inlist="" rel="schema:hasPart" resource="#consuming">
                    <h3 property="schema:name"><span class="secno">3.4 </span>Consuming</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <p>Consumers retrieve the URIs of notifications in an Inbox through making a <code>GET</code> request on the Inbox URL (to find this URL, see <a href="#discovery">discovery</a>).</p>

                        <p>The URIs of the notifications <em class="rfc2119">MUST</em> be discoverable through the <code>http://www.w3.org/ns/ldp#contains</code> predicate of the Inbox URL (see <a href="#results-example-inbox-contains-ldp">example</a> for Inbox content).</p>

                        <p>When retrieving the Inbox or the individual notifications, the consumer <em class="rfc2119">SHOULD</em> explicitly set the <code>Accept</code> header to indicate preferred content types, including for JSON-LD. Fetching the individual notifications — if any, how many, or according to a particular criteria (e.g., content-length, timestamp) — is at the discretion of the consumer.</p>

                        <p>The consumer <em class="rfc2119">MAY</em> include additional headers or content for the purposes of authentication or authorization.</p>

                        <p>Consumers <em class="rfc2119">MAY</em> perform additional fetching or inferring of information from the payload (e.g., dereferencing resources referenced in the notification to fetch their contents) at their discretion. Consumers <em class="rfc2119">MAY</em> also want to check the notifications against any constraints as announced by an Inbox before further processing or use.</p>

                        <div class="note" id="note-request-uri-and-relative-id" rel="schema:hasPart" resource="#note-request-uri-and-body-and-relative-id">
                            <h4 property="schema:name">Note</h4>
                            <div datatype="rdf:HTML" property="schema:description">
                                <p>Note that the fetched URI may not necessarily be same as the resolved value of <code>@id</code> against the base URI after serialising. In other words, the fetched URI can contain RDF statements with subject IRIs different than the requested URI itself. This is pertinent when the body of the notification uses relative IRIs.</p>
                            </div>
                        </div>

                        <div class="note" id="note-payload-verification" rel="schema:hasPart" resource="#note-payload-verification">
                            <h4 property="schema:name">Note</h4>
                            <div datatype="rdf:HTML" property="schema:description">
                                <p>Given the nature of the notification payload, consumers may want to take precautions when ascertaining the veracity of the contents. The <q>open-world assumption</q> applies here.</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </section>

        <section id="payload" inlist="" rel="schema:hasPart" resource="#payload">
            <h2 property="schema:name"><span class="secno">4. </span>Payload</h2>
            <div datatype="rdf:HTML" property="schema:description">
                <p>The payload of the notification <em class="rfc2119">MUST</em> be JSON-LD unless another RDF syntax has been negotiated with the receiver. To allow for a wide variety of use cases, the actual vocabulary of the payload is deliberately not specified here.</p>

                <section id="payload-examples" inlist="" rel="schema:hasPart" resource="#payload-examples">
                    <h3 property="schema:name"><span class="secno">4.1 </span>Payload Examples</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <p><em>This section is non-normative.</em></p>

                        <p>A single triple statement is the simplest notification in terms of its data payload. It contains the most essential data which makes up a notification e.g, A note is a reply to an article:</p>

                        <figure class="listing example selected" id="notification-single-statement-json-ld" rel="schema:hasPart" resource="#notification-single-statement-json-ld">
                            <pre about="#notification-single-statement-turtle" property="schema:description" typeof="fabio:Script">
<code>{</code>
<code>  "<span class="hljs-attribute">@context</span>": <span class="hljs-value"><span class="hljs-string">"http://schema.org/"</span></span>,</code>
<code>  "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.org/note#foo"</span></span>,</code>
<code>  "<span class="hljs-attribute">citation</span>": { "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.net/article#bar"</span></span> }</code>
<code>}</code>
                            </pre>
                            <figcaption property="schema:name">Example notification type: single statement in JSON-LD</figcaption>
                        </figure>

                        <p>This allows a single triple statment to be referred to as a whole, through the URI generated by the receiver for the notification.</p>

                        <p>Larger collections of triples or qualified relations can also constitute a notification. The vocabulary in use typically gives meanings to the statements when consumed as a whole. The examples below tend to refer to external resources where the body of the content can be discovered.</p>

                        <p>ActivityStreams 2.0:</p>
                        <figure class="listing example" id="notification-qualified-relation" rel="schema:hasPart" resource="#notification-qualified-relation">
                            <pre about="#notification-qualified-relation" property="schema:description" typeof="fabio:Script">
<code>{</code>
<code>  "<span class="hljs-attribute">@context</span>": <span class="hljs-value"><span class="hljs-string">"https://www.w3.org/ns/activitystreams"</span></span>,</code>
<code>  "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,</code>
<code>  "<span class="hljs-attribute">@type</span>": <span class="hljs-value"><span class="hljs-string">"Announce"</span></span>,</code>
<code>  "<span class="hljs-attribute">actor</span>": { "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.org/profile#alice"</span></span> },</code>
<code>  "<span class="hljs-attribute">object</span>": { "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://example.org/annotation-1"</span></span> },</code>
<code>  "<span class="hljs-attribute">target</span>": { "<span class="hljs-attribute">@id</span>": <span class="hljs-value"><span class="hljs-string">"https://user.example/article#introduction"</span></span> },</code>
<code>  "<span class="hljs-attribute">updated</span>": <span class="hljs-value"><span class="hljs-string">"2016-06-23T15:03:01Z"</span></span></code>
<code>}</code>
                            </pre>
                            <figcaption property="schema:name">Example notification type: qualified relation.</figcaption>
                        </figure>

                        <p>Semantic Pingback:</p>
                        <figure class="listing example" id="notification-semantic-pingback" rel="schema:hasPart" resource="#notification-semantic-pingback">
                            <pre about="#notification-semantic-pingback" property="schema:description" typeof="fabio:Script">
<code>{</code>
<code>  "@id": "",</code>
<code>  "@type": "http://purl.org/net/pingback/Item",</code>
<code>  "http://purl.org/net/pingback/source":</code>
<code>    { "@id": "https://example.org/annotation-1" },</code>
<code>  "http://purl.org/net/pingback/target":</code>
<code>    { "@id": "https://user.example/article#introduction" }</code>
<code>}</code>
                            </pre>
                            <figcaption property="schema:name">Example notification type: Semantic Pingback.</figcaption>
                        </figure>

                        <p>A notification may also contain arbitrary information, including the complete payload without necessarily refering to an external resource or origin of the data.</p>

                        <figure class="listing example" id="notification-any-data" rel="schema:hasPart" resource="#notification-any-data">
                            <pre about="#notification-any-data" property="schema:description" typeof="fabio:Script">
<code>{</code>
<code>  "@context": [</code>
<code>    { "sioc": "http://rdfs.org/sioc/ns#" },</code>
<code>    { "foaf": "http://xmlns.com/foaf/0.1/" }</code>
<code>  ],</code>
<code>  "@id": "",</code>
<code>  "@type": "sioc:Comment",</code>
<code>  "sioc:reply_of": { "@id": "https://user.example/article" },</code>
<code>  "sioc:created_at": "2015-12-23T16:44:21Z",</code>
<code>  "sioc:content" : "This is a great article!",</code>
<code>  "sioc:has_creator": {</code>
<code>    "@id": "https://example.org/profile/",</code>
<code>    "@type": "sioc:UserAccount",</code>
<code>    "sioc:account_of": { "@id": "https://example.org/profile#alice" },</code>
<code>    "sioc:avatar": { "@id": "https://example.org/profile/avatar.png" },</code>
<code>    "foaf:name": "Alice"</code>
<code>  }</code>
<code>}</code>
                            </pre>
                            <figcaption property="schema:name">Example notification type: any data.</figcaption>
                        </figure>
                    </div>
                </section>
            </div>
        </section>

        <section id="security-privacy-and-content-considerations" inlist="" rel="schema:hasPart" resource="#security-privacy-and-content-considerations">
            <h2 property="schema:name"><span class="secno">5. </span>Security, Privacy and Content Considerations</h2>
            <div datatype="rdf:HTML" property="schema:description">
                <p><em>This section is non-normative.</em></p>

                <section id="constraints" inlist="" rel="schema:hasPart" resource="#constraints">
                    <h3 property="schema:name"><span class="secno">5.1 </span>Constraints</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <p>Inbox URLs can announce their own constraints (e.g., <cite><a class="bibref" href="#bib-shacl">SHACL</a></cite>, <cite><a class="bibref" href="#bib-annotation-protocol">Web Annotation Protocol</a></cite>) via an HTTP <code>Link</code> header or body of the resource with a <code>rel</code> value of <code>http://www.w3.org/ns/ldp#constrainedBy</code>. Senders should comply with constraint specifications or the receiver may reject their notification and return an appropriate <code>4xx</code> error code.</p>
                    </div>
                </section>

                <section id="target-ownership" inlist="" rel="schema:hasPart" resource="#target-ownership">
                    <h3 property="schema:name"><span class="secno">5.2 </span>Target Ownership</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <p>Publishers of the resources advertising an Inbox (target) should do so on a server they trust. Publishers must be aware that third-party access to headers or content could result in notifications being redirected.</p>
                    </div>
                </section>

                <section id="subscribing-to-notifications" inlist="" rel="schema:hasPart" resource="#subscribing-to-notifications">
                    <h3 property="schema:name"><span class="secno">5.3 </span>Subscribing to Notifications</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <p>This specification describes how consumers can read notifications from a receiver through <em>pull</em>, however consumers may want to ask to have incoming notifications or changes to Inbox's contents pushed to them. Similarly, receivers may wish to make a request for notifications from a particular sender. This kind of subscription mechanism left out of scope, but senders, receivers and consumers are not prohibited from making such an arrangement. Implementations that wish to enable subscribing may want to use existing mechanisms e.g., <cite><a class="bibref" href="#bib-activitypub" >ActivityPub</a></cite>, <cite><a class="bibref" href="#bib-pubsubhubbub">PubSubHubbub</a></cite>, <cite><a class="bibref" href="#bib-rfc6455">The WebSocket Protocol</a></cite>, <cite><a class="bibref" href="#bib-webpush">HTTP Web Push</a></cite>.</p>
                    </div>
                </section>

                <section id="activity-streams-2-0-support" inlist="" rel="schema:hasPart" resource="#activity-streams-2-0-support">
                    <h3 property="schema:name"><span class="secno">5.4 </span>Activity Streams 2.0 Support</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <p>Receiver implementations that wish to support <a href="https://www.w3.org/TR/activitystreams-core/">Activity Streams 2.0 Core</a> can see <a href="https://www.w3.org/TR/social-web-protocols/#inbox-interop">Social Web Protocols - Inbox Interop</a> for Content-Type and vocabulary equivalences.</p>
                    </div>
                </section>

                <section id="security-and-privacy-review" inlist="" rel="schema:hasPart" resource="#security-and-privacy-review">
                    <h3 property="schema:name"><span class="secno">5.5 </span>Security and Privacy Review</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <p>These questions provide an overview of security and privacy considerations for this specification as guided by <cite><a class="bibref" href="#bib-security-privacy-questionnaire-20151210">Self-Review Questionnaire: Security and Privacy</a></cite>.</p>

                        <dl>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#pii">Does this specification deal with personally-identifiable information?</a></dt><dd>Notification payloads may contain any data including that which identifies the sender or the receiver. Access to notification data is under the control of the receiver. In the case of sending sensitive information, the sender should be aware that the receiver may implement access control on the Inbox that allows for public reading of the contents.</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#credentials">Does this specification deal with high-value data?</a></dt><dd>Same implications as personally-identifiable information in notification payload (as mentioned above).</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#persistent-origin-specific-state">Does this specification introduce new state for an origin that persists across browsing sessions?</a></dt><dd>No.</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#persistent-identifiers">Does this specification expose persistent, cross-origin state to the web?</a></dt><dd>No.</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#other-data">Does this specification expose any other data to an origin that it doesn’t currently have access to?</a></dt><dd>No.</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#string-to-script">Does this specification enable new script execution/loading mechanisms?</a></dt><dd>No.</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#location">Does this specification allow an origin access to a user’s location?</a></dt><dd>No.</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#sensors">Does this specification allow an origin access to sensors on a user’s device?</a></dt><dd>No.</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#local-device">Does this specification allow an origin access to aspects of a user’s local computing environment?</a></dt><dd>No.</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#remote-device">Does this specification allow an origin access to other devices?</a></dt><dd>No.</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#native-ui">Does this specification allow an origin some measure of control over a user agent’s native UI?</a></dt><dd>No.</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#temporary-id">Does this specification expose temporary identifiers to the web?</a></dt><dd>No.</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#first-third-party">Does this specification distinguish between behavior in first-party and third-party contexts?</a></dt><dd>No.</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#incognito">How should this specification work in the context of a user agent’s "incognito" mode?</a></dt><dd>Works in such a way that the website would not be able to determine that the user was in "incognito".</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#storage">Does this specification persist data to a user’s local device?</a></dt><dd>No.</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#considerations">Does this specification have a "Security Considerations" and "Privacy Considerations" section?</a></dt><dd>:)</dd>
                            <dt><a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/#relaxed-sop">Does this specification allow downgrading default security characteristics?</a></dt><dd>No.</dd>
                        </dl>
                    </div>
                </section>
            </div>
        </section>

        <section id="acknowledgements" inlist="" rel="schema:hasPart" resource="#acknowledgements">
            <h2 about="#acknowledgements" property="schema:name" typeof="deo:Acknowledgements"><span class="secno">A. </span>Acknowledgements</h2>
            <div datatype="rdf:HTML" property="schema:description">
                <p>..</p>
            </div>
        </section>

        <section id="change-log" inlist="" rel="schema:hasPart" resource="#change-log">
            <h2 property="schema:name"><span class="secno">B. </span>Change Log</h2>
            <div datatype="rdf:HTML" property="schema:description">
                <p><em>This section is non-normative.</em></p>
                <section id="change-log-Changes-from-27-July-2016-WD-to-this-version" inlist="" rel="schema:hasPart" resource="#change-log-Changes-from-27-July-2016-WD-to-this-version">
                    <h3 property="schema:name"><span>B.1 </span>Changes from 27 July 2016 WD to this version</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <ul>
                            <li>Improve examples; update, syntactical fixes, @context in https</li>
                            <li>Typos, punctuation, naming</li>
                            <li>Use informative discretion about the payload</li>
                        </ul>
                    </div>
                </section>

                <section id="change-log-Changes-from-24-August-2016-WD-to-this-version" inlist="" rel="schema:hasPart" resource="#change-log-Changes-from-24-August-2016-WD-to-this-version">
                    <h3 property="schema:name"><span>B.2 </span>Changes from 24 August 2016 WD to this version</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <ul>
                            <li>Typos, punctuation, naming</li>
                            <li>Add Exit Criteria</li>
                            <li>Clarify behaviour when Accept header is used and omitted</li>
                            <li>Add a note about subject of the relation for the Link header field</li>
                            <li>Add GET for possible Link header, clarify subject URI (for its Inbox) in target URL</li>
                            <li>Revise Abstract</li>
                            <li>Add consideration about target ownership</li>
                            <li>Mention 'any resource can have its own inbox'</li>
                            <li>Add Subscribing to Notifications section</li>
                        </ul>
                    </div>
                </section>

                <section id="change-log-Changes-from-13-September-2016-WD-to-this-version" inlist="" rel="schema:hasPart" resource="#change-log-Changes-from-13-September-2016-WD-to-this-version">
                    <h3 property="schema:name"><span>B.3 </span>Changes from 13 September 2016 WD to this version</h3>
                    <div datatype="rdf:HTML" property="schema:description">
                        <ul>
                            <li>Fix typos and links</li>
                            <li>Reorder sections to Sending, Receiving, Consuming</li>
                            <li>Update examples</li>
                            <li>Add reference to RFC7231</li>
                            <li>Clarify wording for URI discovery</li>
                            <li>Add sub-headings for the non-normative sections under Considerations</li>
                            <li>Add overview diagram</li>
                            <li>Add non-normative sub-section for Retry Discovery under Considerations</li>
                            <li>Mention being courteous for Discovery</li>
                            <li>Move Preventing Abuse to respective normative sections</li>
                            <li>Move Sender Verification to go under Receiving</li>
                            <li>Move ActivitStreams 2.0 Support to Considerations</li>
                            <li>Move Payload Verification to Consuming as a Note</li>
                            <li>Move normative and some non-normatives from Considerations to earlier sections</li>
                            <li>Add Security and Privacy Review section</li>
                            <li>Update Introduction</li>
                        </ul>
                    </div>
                </section>
            </div>
        </section>

        <section class="appendix" id="references" typeof="bibo:Chapter" resource="#references" property="bibo:hasPart">
          <h2 id="h-references" resource="#h-references">
            <span resource="xhv:heading" property="xhv:role"><span class="secno">C. </span>References</span>
          </h2>
          <div>
              <section id="normative-references" typeof="bibo:Chapter" resource="#normative-references" property="bibo:hasPart">
                <h3 id="h-normative-references" resource="#h-normative-references">
                  <span resource="xhv:heading" property="xhv:role"><span class="secno">C.1 </span>Normative references</span>
                </h3>
                <dl class="bibliography" resource="">
                  <dt id="bib-ldp">[ldp]</dt>
                  <dd>Steve Speicher; John Arwe; Ashok Malhotra. W3C. <a href="https://www.w3.org/TR/ldp/" property="dc:requires"><cite>Linked Data Platform 1.0</cite></a>. 26 February 2015. W3C Recommendation. URL: <a href="https://www.w3.org/TR/ldp/" property="dc:requires">https://www.w3.org/TR/ldp/</a></dd>
                  <dt id="bib-rdf11-concepts">[rdf11-concepts]</dt>
                  <dd>Richard Cyganiak; David Wood; Markus Lanthaler. W3C. <a href="https://www.w3.org/TR/rdf11-concepts/" property="dc:requires"><cite>RDF 1.1 Concepts and Abstract Syntax</cite></a>. 25 February 2014. W3C Recommendation. URL: <a href="https://www.w3.org/TR/rdf11-concepts/" property="dc:requires">https://www.w3.org/TR/rdf11-concepts/</a></dd>
                  <dt id="bib-rfc2119">[rfc2119]</dt>
                  <dd>S. Bradner. IETF. <a href="https://tools.ietf.org/html/rfc2119" property="dc:requires"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119" property="dc:requires">https://tools.ietf.org/html/rfc2119</a></dd>
                  <dt id="bib-rfc6906">[rfc6906]</dt>
                  <dd>E. Wilde. IETF. <a href="https://tools.ietf.org/html/rfc6906" property="dc:requires"><cite>The 'profile' Link Relation Type</cite></a>. March 2013. Informational. URL: <a href="https://tools.ietf.org/html/rfc6906" property="dc:requires">https://tools.ietf.org/html/rfc6906</a></dd>
                </dl>
              </section>
              <section id="informative-references" typeof="bibo:Chapter" resource="#informative-references" property="bibo:hasPart">
                <h3 id="h-informative-references" resource="#h-informative-references">
                  <span resource="xhv:heading" property="xhv:role"><span class="secno">C.2 </span>Informative references</span>
                </h3>
                <dl class="bibliography" resource="">
                  <dt id="bib-accept-post">[accept-post]</dt>
                  <dd>J. Arwe; S. Speicher; E. Wilde. IETF. <a href="http://tools.ietf.org/html/draft-wilde-accept-post" property="dc:references"><cite>The Accept-Post HTTP Header</cite></a>. Internet Draft. URL: <a href="http://tools.ietf.org/html/draft-wilde-accept-post" property="dc:references">http://tools.ietf.org/html/draft-wilde-accept-post</a></dd>
                  <dt id="bib-activitypub">[activitypub]</dt>
                  <dd>Christopher Webber; Jessica Tallon; Owen Shepherd. W3C. <a property="dc:references" href="https://www.w3.org/TR/activitypub/"><cite>ActivityPub</cite></a>. 13 September 2016. W3C Working Draft. URL: <a property="dc:references" href="https://www.w3.org/TR/activitypub/">https://www.w3.org/TR/activitypub/</a></dd>
                  <dt id="bib-activitystreams-core">[activitystreams-core]</dt>
                  <dd>James Snell; Evan Prodromou. W3C. <a href="https://www.w3.org/TR/activitystreams-core/" property="dc:references"><cite>Activity Streams 2.0</cite></a>. 6 September 2016. W3C Candidate Recommendation. URL: <a href="https://www.w3.org/TR/activitystreams-core/" property="dc:references">https://www.w3.org/TR/activitystreams-core/</a></dd>
                  <dt id="bib-annotation-protocol">[annotation-protocol]</dt>
                  <dd>Robert Sanderson. W3C. <a href="https://www.w3.org/TR/annotation-protocol/" property="dc:references"><cite>Web Annotation Protocol</cite></a>. 6 September 2016. W3C Candidate Recommendation. URL: <a href="https://www.w3.org/TR/annotation-protocol/" property="dc:references">https://www.w3.org/TR/annotation-protocol/</a></dd>
                  <dt id="bib-ldp-paging">[ldp-paging]</dt>
                  <dd>Steve Speicher; John Arwe; Ashok Malhotra. W3C. <a href="https://www.w3.org/TR/ldp-paging/" property="dc:references"><cite>Linked Data Platform Paging 1.0</cite></a>. 30 June 2015. W3C Note. URL: <a href="https://www.w3.org/TR/ldp-paging/" property="dc:references">https://www.w3.org/TR/ldp-paging/</a></dd>
                  <dt id="bib-pubsubhubbub">[pubsubhubbub]</dt>
                  <dd>Julien Genestoux. W3C. <a property="dc:references" href="https://github.com/w3c/pubshubhubbub/"><cite>PubSubHubbub</cite></a>. W3C Editor's Draft. URL: <a property="dc:references" href="https://github.com/w3c/pubshubhubbub/">https://github.com/w3c/pubshubhubbub/</a></dd>
                  <dt id="bib-rfc6455">[rfc6455]</dt>
                  <dd>I. Fette; A. Melnikov. IETF. <a href="https://tools.ietf.org/html/rfc6455" property="dc:references"><cite>The WebSocket Protocol</cite></a>. December 2011. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc6455" property="dc:references">https://tools.ietf.org/html/rfc6455</a></dd>
                  <dt id="bib-rdfc7231">[rfc7231]</dt>
                  <dd>R. Fielding, Ed.; J. Reschke, Ed.. <a href="https://tools.ietf.org/html/rfc7231" property="dc:references"><cite>Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</cite></a>. June 2014. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc7231" property="dc:references">https://tools.ietf.org/html/rfc7231</a></dd>
                  <dt id="bib-security-privacy-questionnaire">[security-privacy-questionnaire-20151210]</dt>
                  <dd>Mike West. W3C. <a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/" property="dc:references"><cite>Self-Review Questionnaire: Security and Privacy</cite></a>. 10 December 2015. W3C Note. URL: <a href="https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/" property="dc:references">https://www.w3.org/TR/2015/NOTE-security-privacy-questionnaire-20151210/</a></dd>
                  <dt id="bib-shacl">[shacl]</dt>
                  <dd>Holger Knublauch; Dimitris Kontokostas. W3C. <a href="https://www.w3.org/TR/shacl/" property="dc:references"><cite>Shapes Constraint Language (SHACL)</cite></a>. 14 August 2016. W3C Working Draft. URL: <a href="https://www.w3.org/TR/shacl/" property="dc:references">https://www.w3.org/TR/shacl/</a></dd>
                  <dt id="bib-social-web-protocols">[social-web-protocols]</dt>
                  <dd>Amy Guy. W3C. <a href="https://www.w3.org/TR/social-web-protocols/" property="dc:references"><cite>Social Web Protocols</cite></a>. 23 August 2016. W3C Working Draft. URL: <a href="https://www.w3.org/TR/social-web-protocols/" property="dc:references">https://www.w3.org/TR/social-web-protocols/</a></dd>
                  <dt id="bib-webpush">[webpush]</dt>
                  <dd>M. Thomson; E. Damaggio; B. Raymor. IETF. <a href="https://tools.ietf.org/html/draft-ietf-webpush-protocol-08" property="dc:references"><cite>Generic Event Delivery Using HTTP Push</cite></a>. Internet Draft. URL: <a href="https://tools.ietf.org/html/draft-ietf-webpush-protocol-08" property="dc:references">https://tools.ietf.org/html/draft-ietf-webpush-protocol-08</a></dd>
                </dl>
              </section>
            </div>
        </section>

        <p role="navigation" id="back-to-top"><a href="#toc"><abbr title="Back to top">↑</abbr></a></p>
        <script src="//www.w3.org/scripts/TR/2016/fixup.js"></script>
    </body>
</html>
